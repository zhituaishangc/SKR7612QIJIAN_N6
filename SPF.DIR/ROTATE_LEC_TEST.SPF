;R0=AXIS max (被测轴+极限)
;R1=AXIS limit (被测轴-极限)
;R2=Step(测量步距)         ;INPUT 
;R3=Cycle times(循环次数)
;R4=Back distance(反向距离)
;R5=HOLD time(停留时间)    ;INPUT
N10 DEF AXIS AXIVAR
N20 AXIVAR=(A) ;AXIS name
;R0=$AA_SOFTENDP[AXIVAR]2; - Limit
;R1=$AA_SOFTENDN[AXIVAR]-2; + Limit
M70
N30 G90 G1 AX[AXIVAR]=R0 F=R6 
N40 R3=0
N50 G4 F=R5
N60 MARK0:R3=(R0-R1)/R2
N70 G01G91 AX[AXIVAR]=R4 F=R6
N80 G01G91 AX[AXIVAR]=-R4 F=R6
N90 G4 F=R5
N100 MARK1:G01G91 AX[AXIVAR]=-R2 F=R6 
N110 G4 F=R5
N120 R3=R3-1
N130 IF(R3>0)GOTOB MARK1
N140 R3=0
N150 R3=(R0-R1)/R2
N160 G01G91 AX[AXIVAR]=-R4 F=R6
N170 G01G91 AX[AXIVAR]=R4 F=R6 
N180 G4 F=R5
N190 MARK2:G01G91 AX[AXIVAR]=R2 F=R6
N200 G4 F=R5
N210 R3=R3-1
N220 IF(R3>0)GOTOB MARK2
N230 GOTOB MARK0
N240 M2
N250 

